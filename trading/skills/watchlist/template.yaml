# Watchlist Template
# Output: knowledge/watchlist/{TICKER}_{YYYYMMDDTHHMM}.yaml
#
# EXPIRATION RULES:
# - Max 30 days from creation (default ceiling)
# - Shorter for event-driven: earnings date, FDA decision, etc.
# - If not triggered in 30 days â†’ status becomes "expired"
# - Two mechanisms: _meta.expires (absolute) OR time_limit_days (relative)
# - Whichever comes first triggers expiration

_meta:
  id: "{TICKER}_{YYYYMMDDTHHMM}"
  type: watchlist
  version: 1
  created: "{ISO_DATETIME}"
  expires: "{YYYY-MM-DD}"  # ABSOLUTE: Max 30 days, shorter for events
  status: "active|triggered|invalidated|expired"

ticker: "{TICKER}"
priority: "high|medium|low"
current_price: 0.00

# Source
source:
  type: "analysis|scanner"
  file: ""  # Link to analysis or scanner run
  original_score: 0.00

# Thesis
thesis: ""  # Brief summary

# Entry Trigger
entry_trigger:
  type: "price|condition|combined"
  description: ""
  
  price_trigger:
    condition: "above|below|at"
    price: 0.00
    
  additional_conditions:
    - ""

# Invalidation
# Conditions that break the thesis (remove without triggering)
invalidation:
  type: "price|condition|time"
  description: ""

  price_level: 0.00           # Price that invalidates thesis
  time_limit_days: 30         # RELATIVE: Days from creation (max 30)
                              # Recommended: 5-10 for pullbacks, 7-14 for breakouts

# Key Levels
key_levels:
  support:
    - 0.00
  resistance:
    - 0.00
  entry_zone: 0.00

# Upcoming Events
# Events with impact: "high" can trigger expiration when date passes
events:
  - event: ""                 # e.g., "Q4 Earnings", "FDA Decision"
    date: "{YYYY-MM-DD}"      # Event date
    impact: "high|medium|low" # high = expires after this date

# Monitoring Log
monitoring_log:
  - date: "{YYYY-MM-DD}"
    price: 0.00
    note: ""
    action: "none|updated|removed|triggered"

# Resolution (fill when no longer active)
resolution:
  date: "{YYYY-MM-DD}"
  outcome: "triggered|invalidated|expired"
  final_action: ""  # e.g., "Created trade journal TJ-XXX"
