schema_version: "1.0.0"
extract_version: "1.0.0"

neo4j:
  uri: "${NEO4J_URI:-bolt://localhost:7688}"
  user: "${NEO4J_USER:-neo4j}"
  password: "${NEO4J_PASS}"
  database: "${NEO4J_DATABASE:-neo4j}"

extraction:
  default_extractor: "${EXTRACT_DEFAULT_EXTRACTOR:-ollama}"
  fallback_chain:
    - ollama           # Try local first ($0)
    - openrouter       # Fallback to cloud if Ollama fails
  timeout_seconds: "${EXTRACT_TIMEOUT_SECONDS:-30}"

  # Confidence thresholds
  commit_threshold: "${EXTRACT_COMMIT_THRESHOLD:-0.7}"
  flag_threshold: "${EXTRACT_FLAG_THRESHOLD:-0.5}"
  skip_threshold: "${EXTRACT_FLAG_THRESHOLD:-0.5}"

  ollama:
    base_url: "${OLLAMA_BASE_URL:-http://localhost:11434}"
    model: "${OLLAMA_EXTRACT_MODEL:-qwen3:8b}"

  openrouter:
    api_key: "${OPENROUTER_API_KEY}"
    model: "${OPENROUTER_EXTRACT_MODEL:-anthropic/claude-3-5-sonnet}"
    fallback_model: "anthropic/claude-3-haiku"

  claude_api:
    api_key: "${ANTHROPIC_API_KEY}"
    model: "claude-sonnet-4-20250514"

logging:
  extraction_log: "logs/graph_extractions.jsonl"
  pending_commits: "logs/pending_commits.jsonl"
